{% extends '../utils/layout.html' %}
{% load static %}
{% block content %}

        <section class="main w-12/12 py-6" style="height: auto;background-color: white;">

            <div class="breadcrumb grid grid-flow-col justify-start gap-2 w-10/12 mx-auto py-2 px-5">
                <a class="text-gray-600 hover:text-gray-900" href="{% url 'manager:home' %}">Home</a>
                <a>/</a>
                <a class="text-gray-600 hover:text-gray-900" href='{% url "supplier:category-detail" object.sub_category.category.slug %}'>{{object.sub_category.category}}</a>
                <a>/</a>
                <a class="text-gray-600 hover:text-gray-900" href='{% url "supplier:subcategory-detail" object.sub_category.category.slug object.sub_category.slug %}'>{{object.sub_category}}</a>
                <a>/</a>
                <span>{{object.name}}</span>
            </div>

            <div class="grid gap-10 p-5 product-detail w-10/12 mx-auto" style="grid-template-columns: 1fr 2fr;">
                <div class="product-images grid gap-2" data-context="{{product_images.context_name}}">
                    <div class="img-wrapper" >
                        <img  style="object-fit: cover;" src="/media/{{product_images.results.0.image}}" alt="">
                    </div>
                    <hr>
                    <div class="extra-images grid gap-2" style="grid-template-columns: repeat(4, 1fr);">
                        {% for image in product_images.results %}
                            <img src="/media/{{image.image}}" alt="">
                        {% endfor %}
                    </div>
                </div>
                <div class="product-detail grid gap-4 justify-start content-start">
                    <div class="grid grid-flow-col justify-between">                        
                        <h3 class="text-2xl font-semibold">{{ object.name }}</h3>
                        <p class="text-bold" style="display:grid;grid-auto-flow: column; align-items: baseline;gap: .25rem;">
                            <span class="text-lg">{{ object.currency }}</span>
                            <span class="text-2xl font-bold">{{ object.price }}</span>
                        </p>
                    </div>
                    <div class="grid gap-1 px-4 py-2 justify-items-start" style="border-bottom: 1px solid hsla(213, 28%, 19%, .1);border-top: 1px solid hsla(213, 28%, 19%, .1)">
                        <p class="text-base font-normal text-slate-800">{{object.description}}</p>
                    </div>
                    <div class="grid gap-2">
                        <p class="text-slate-700 flex gap-1" data-context="{{product_supplier.context_name}}">
                            <span>Supplier: </span>
                            <span class="font-semibold">{{product_supplier.results}}</span>
                        </p>
                        <p class="text-slate-700 grid grid-flow-col gap-3" data-context="{{product_stores.context_name}}">
                            <span>Stores: </span>
                            <span class="flex flex-wrap gap-1">
                                {% for store in product_stores.results %}
                                    <span>{{ store }}</span>
                                {% endfor %}
                            </span>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="main w-12/12 py-6" style="background-color: #FFFFFF;">
            <div class="grid w-full mx-auto cf-1 gap-5 w-10/12 mx-auto">
                <div class="section-heading">
                    <h2 class="sec-title text-2xl font-bold">Related Products</h2>
                </div>
                <div class="section-body grid gap-6 grid-cols-5" data-context="{{propular_products.context_name}}">
                    {% for product in propular_products.results %}
                        <div class="single-image-product-card overflow-hidden rounded-md flex gap-0.5 card-outlined">
                            <div class="grid gap-1">
                                <a class="grid gap-2" href="{% url 'supplier:product-detail' product.product.slug %}">
                                    <img src="/media/{{product.images.image}}" alt="{{product.name}}" class="item-img rounded-sm" >
                                    <div class="item-details grid gap-0 py-1 px-4 gap-2" style="border-bottom: 1px solid hsla(213, 28%, 19%, .1);border-top: 1px solid hsla(213, 28%, 19%, .1)">
                                        <p class="grid justify-start text-left">            
                                            <h5 class="text-sm font-bold leading-5">    
                                                {{product.product.name}}
                                            </h5>
                                            <p class="text-xs font-medium">
                                                <span>{{product.product.currency}}</span>
                                                <span>{{product.product.price}}</span>
                                            </p>
                                        </p>
                                    </div>
                                    <span class="py-1 px-4 font-semibold text-sm">By {{ product.supplier }}</span>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>

{% endblock %}