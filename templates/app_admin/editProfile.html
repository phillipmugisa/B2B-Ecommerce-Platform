{% extends './utils/layout.html' %}
{% load static %}
{% load i18n %}
{% block content %}
    <!-- section area -->

    <section class="content br-sm outlined" style="--gap: 1rem;">
        <form action="{% url 'app_admin:editprofile' %}" method="POST" id="profile-form" class="cs-grid br-sm" enctype="multipart/form-data" style="padding: 2rem;--gap:1rem;">
            <h2 style="margin: 0;" class="form-heading cs-text-body cs-font-600 cs-text-secondary">
                Edit Account Details.
            </h2>
            {% if messages %}
                {% for message in messages %}
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %} 
                        <div class="flex justify-between content-center text-normal br-sm font-600" style="border: 1px solid rgb(236, 35, 35);color: rgb(236, 35, 35); padding: .5rem 1.5rem" onclick="(function(){event.target.style.display = 'none';return false;})()">
                            <p>{{ message }}</p>
                            <i style="align-self: center;" onclick="(function(){event.target.parentNode.style.display = 'none';return false;})()" class="fa fa-close"></i>
                        </div>
                    {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} 
                        <div class="flex justify-between content-center text-normal br-sm font-600" style="border: 1px solid hsl(116, 66%, 50%);color: hsl(116, 66%, 50%); padding: .5rem 1.5rem" onclick="(function(){event.target.style.display = 'none';return false;})()">
                            <p>{{ message }}</p>
                            <i style="align-self: center;" onclick="(function(){event.target.parentNode.style.display = 'none';return false;})()" class="fa fa-close"></i>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
            {% csrf_token %}
            <div class="cs-grid" style="grid-template-columns: repeat(2, 1fr);--gap: 1rem;">
                <div class="form-group cs-grid" style="--gap: .5rem;">
                    <label for="firstname" class="cs-text-normal" style="color: var(--text-color);">{% trans 'First Name' %}</label>
                    <input type="text" name="first_name" value="{{request.user.first_name}}" id="firstname">
                </div>
                <div class="form-group cs-grid" style="--gap: .5rem;">
                    <label for="lastname" class="cs-text-normal" style="color: var(--text-color);">{% trans 'Last Name' %}</label>
                    <input type="text" name="last_name" value="{{request.user.last_name}}" id="lastname">
                </div>
            </div>
            <div class="form-group cs-grid" style="--gap: .5rem;">
                <label for="username" class="cs-text-normal" style="color: var(--text-color);">{% trans 'Username' %}</label>
                <input type="text" name="username" value="{{request.user.username}}" id="username">
            </div>
            <div class="form-group cs-grid" style="--gap: .5rem;">
                <label for="email" class="cs-text-normal" style="color: var(--text-color);">{% trans 'Email' %}</label>
                <input type="email" name="email" value="{{request.user.email}}" id="email">
            </div>
            <div class="form-group cs-grid" style="--gap: .5rem;">
                <input class="cs-text-white cs-bg-secondary" type="submit" name="contract-start-date" id="contract-start-date"
                value="Save Account">
            </div>
        </form>
    </section>


    <!-- section area -->
{% endblock %}